@if (carts.isLoading()) {
  <div class="d-flex justify-content-center">
    <div class="spinner-border text-success" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
}

<div class="container py-4">
  @if(carts.value()?.length === 0) {
    <div>Pannier vide !!!</div>
  }
  <h2 class="mb-4">ðŸ›’ Mon Panier</h2>

  <div class="vstack gap-3">
    @for (cart of carts.value(); track cart.id) {
      <div class="card p-3 d-flex flex-row align-items-center">
        <img
          [src]="urlHelper(cart.url)"
          [alt]="cart.name"
          class="img-thumbnail"
          style="width: 100px; height: 100px; object-fit: cover;"
        />
        <div class="ms-3">
          <h5 class="mb-1">{{ cart.name }}</h5>
          <div class="text-muted">Prix : {{ cart.price | number:'1.2-2' }} â‚¬</div>
          <div class="text-muted">QuantitÃ© : {{ cart.quantity }}</div>
          <div class="fw-bold mt-2">
            Total : {{ cart.price * cart.quantity | number:'1.2-2' }} â‚¬
          </div>
        </div>
      </div>
    }
  </div>

  <div class="d-flex justify-content-end mt-2">
    <div class="text-end">
      <h5 class="mb-0 text-dark">Sous-total :</h5>
      <p class="fs-5 fw-bold text-dark">
        {{totalPrice.value() | number:'1.2-2'}} â‚¬
      </p>
    </div>
  </div>
</div>
